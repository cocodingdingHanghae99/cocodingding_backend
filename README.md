
![readme]("메인 사진 링크")

# Introduction of Project
- [서비스 확인하러 가기](https://coco-test-kappa.vercel.app/)
- [팀 노션 주소](https://www.notion.so/99-_-a26aba0c26cf479aa67507282b362c41 )
- [발표 자료](https://www.canva.com/design/DAFcwdozTV4/Q62jR6AZKt97psxmQC59hg/edit?utm_content=DAFcwdozTV4&utm_campaign=designshare&utm_medium=link2&utm_source=sharebutton)
- [발표 영상](https://www.canva.com/design/DAFcwdozTV4/HCQVn8mTXPYgxsDkTWEaPg/view?utm_content=DAFcwdozTV4&utm_campaign=designshare&utm_medium=link&utm_source=recording_view)
## 프로젝트를 제작하게 된 동기📍
- 다른 사람들과 함께 공부하면서 자극을 받고 더욱 효율적인 학습을 할 수 있도록 도와주면서, 일상에서 쉽게 접할 수 있는 명언이나 할 일 목록 등의 요소를 통해 하루를 더욱 의미있게 보낼 수 있도록 하기 위해 저희 팀은 코코딩딩 웹서비스를 기획하였습니다.

### Cocodingding 서비스 화면(미부록된 것들도 추가 중)
- 메인 화면
  <img src="https://s3.us-west-2.amazonaws.com/secure.notion-static.com/9918985a-4c7d-4159-a7ad-dea2a499d94c/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20230314%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20230314T131332Z&X-Amz-Expires=86400&X-Amz-Signature=408c310b4a02f03dac2688d0652acec3157afe3e8bae7d9d87e81bb86948127d&X-Amz-SignedHeaders=host&response-content-disposition=filename%3D%22Untitled.png%22&x-id=GetObject">
### 개발 기간📍

- 2023.02.02 ~ 2023.03.14

#### FE
김혜성
김지석

#### BE
김재광
김현우
왕윤종

#### Design


#### **Front-End**
<p>
  <img src="https://img.shields.io/badge/JavaScript-F7DF1E?style=for-the-badge&logo=JavaScript&logoColor=black">
  <img src="https://img.shields.io/badge/React-61DAFB?style=for-the-badge&logo=React&logoColor=black">
  <img src="https://img.shields.io/badge/Create React App-09D3AC?style=for-the-badge&logo=Create React App&logoColor=black">
  <img src="https://img.shields.io/badge/Redux-764ABC?style=for-the-badge&logo=Redux&logoColor=white">
  <img src="https://img.shields.io/badge/Axios-5A29E4?style=for-the-badge&logo=Axios&logoColor=white">
  <img src="https://img.shields.io/badge/Yarn-2C8EBB?style=for-the-badge&logo=Yarn&logoColor=white">
  <img src="https://img.shields.io/badge/HTTPS-8BFCAB?style=for-the-badge&logo=HTTPS&logoColor=white">
  <img src="https://img.shields.io/badge/SASS-DB7093?style=for-the-badge&logo=SASS&logoColor=white">
  <img src="https://img.shields.io/badge/GitHub-121212?style=for-the-badge&logo=GitHub&logoColor=white">
  <img src="https://img.shields.io/badge/Figma-F24E1E?style=for-the-badge&logo=Figma&logoColor=white">
  <img src="https://img.shields.io/badge/Amazon S3-569A31?style=for-the-badge&logo=Amazon S3&logoColor=white">
  <img src="https://img.shields.io/badge/Cloud Front-FDC520?style=for-the-badge&logo=Cloud Front&logoColor=white">
  <img src="https://img.shields.io/badge/WebRTC-3F7CF6?style=for-the-badge&logo=WebRTC&logoColor=white">
  <img src="https://img.shields.io/badge/OPEN Vidu-3EF1AC?style=for-the-badge&logo=OPEN Vidu&logoColor=white">
  <img src="https://img.shields.io/badge/STOMP-313131?style=for-the-badge&logo=STOMP&logoColor=white">
</p>

#### **Back-End**
<p>
  <img src="https://img.shields.io/badge/Spring-A5E882?style=for-the-badge&logo=Spring&logoColor=black">
  <img src="https://img.shields.io/badge/Docker-76CBFD?style=for-the-badge&logo=Docker&logoColor=black">
  <img src="https://img.shields.io/badge/Intelli J-FA2C48?style=for-the-badge&logo=IntelliJS&logoColor=white">
  <img src="https://img.shields.io/badge/Amazon EC2-FDC959?style=for-the-badge&logo=Amazon EC2&logoColor=black">
  <img src="https://img.shields.io/badge/Amazon S3-569A31?style=for-the-badge&logo=Amazon S3&logoColor=white">
  <img src="https://img.shields.io/badge/Amazon RDS-547CFA?style=for-the-badge&logo=Amazon RDS&logoColor=white">
  <img src="https://img.shields.io/badge/Amazon ROUTER 53-FDD485?style=for-the-badge&logo=ROUTER 53r&logoColor=black">
  <img src="https://img.shields.io/badge/My SQL-FBBB5B?style=for-the-badge&logo=My SQL&logoColor=black">
  <img src="https://img.shields.io/badge/HTTPS-8BFCAB?style=for-the-badge&logo=HTTPS&logoColor=white">
  <img src="https://img.shields.io/badge/GitHub-121212?style=for-the-badge&logo=GitHub&logoColor=white">
  <img src="https://img.shields.io/badge/Git Action-0E0E0E?style=for-the-badge&logo=Git Action&logoColor=white">
  <img src="https://img.shields.io/badge/KURENTO-ECF79C?style=for-the-badge&logo=KURENTO&logoColor=black">
  <img src="https://img.shields.io/badge/WebRTC-3F7CF6?style=for-the-badge&logo=WebRTC&logoColor=white">
  <img src="https://img.shields.io/badge/OPEN Vidu-3EF1AC?style=for-the-badge&logo=OPEN Vidu&logoColor=white">
  <img src="https://img.shields.io/badge/NGINX-19D982?style=for-the-badge&logo=NGINX&logoColor=black">
 <img src="https://img.shields.io/badge/AMAZON AWS-e61919?style=for-the-badge&logo=AMAZON AWS&logoColor=black">
<img src="https://img.shields.io/badge/STOMP-313131?style=for-the-badge&logo=STOMP&logoColor=white">
</p>


### 주요 기능 구현📍
#### **Front_End**

- WebRTC & WebSocket을 이용한 화상채팅 서비스 구현

- 오늘의 한마디 구현

- 오늘의 할 일 구현



#### **Back_End**

- WebRTC & WebSocket을 이용한 화상채팅 서비스 구현

- 이메일 인증을 통한 회원가입

- 카카오 소셜 로그인

-----

### 주요 기능 설명📍
<details>
<summary> <b>아키텍쳐 바로보기</b> </summary>
  <img src="https://s3.us-west-2.amazonaws.com/secure.notion-static.com/52a75f27-4bb3-49e8-8063-49d3debacf8d/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20230314%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20230314T131113Z&X-Amz-Expires=86400&X-Amz-Signature=ef8a903e1243f53569b00c99aa345aa3105783c159cf1e514b182a5e60d2853d&X-Amz-SignedHeaders=host&response-content-disposition=filename%3D%22Untitled.png%22&x-id=GetObject"> 
</details>

----

## Trouble Shooting 🔫

## Front

### Trouble 1
화상채팅방에 사용자가 방을 나갔을때 화상 화면은 사라지지만 닉네임이 계속 남아있던 이슈
#### 원인
사용자가 방에 입장할 때 사용자 배열에 추가되는데, 방을 나갔을 때 해당 배열에서 삭제되지 않아서 닉네임이 계속 렌더링 되고 있었음.
#### 해결방법
스트림을 종료했을 때 사용자를 삭제하는 함수를 추가하여 indexOf로 사용자 배열 중 방을 만든 사람을 찾고, 있을 경우 splice로 해당 사용자를 삭제하고 useState를 set하여 새로운 배열을 반환하고, 없을 경우 사용자 배열이 0과 같을 때에도 useState를 set하여 빈 배열을 반환하여 사용자가 완전히 삭제되도록 수정해서 문제를 해결했다.

### Trouble 2
 여러 방에서 대화를 하면 다른 채팅방의 대화 내용도 함께 보이던 이슈
#### 원인
소켓으로 받은 모든 메시지를 출력하도록 코드가 작성되어 있어서, 모든 방에서 전송된 메시지가 모두 보이게 되었음.
#### 해결방법
소켓으로 받은 메시지들 중에서 현재 채팅방의 메시지만 출력하도록 필터링하는 방법을 이용하여 해결하였음. 이를 위해, 소켓으로부터 받은 메시지 객체에 포함된 roomId와 현재 채팅방의 roomId를 비교하여 동일한 경우에만 해당 메시지를 출력하도록 필터링하는 함수를 작성하여 사용하였음.

## Back

### Trouble 1
openVidu 서버를 배포했을 때 "502 BAD_GATEWAY" 가 발생함
#### 원인
Docker의 버전이 높았기 때문에 openVidu와 호환이 되지 않았던 것이 원인
#### 해결방법
Doker의 버전을 다운드레이드 시켜봤더니 정상 작동 되었다.

### Trouble 2
방을 나갔다가 들어오면 화상 화면이 2개 나왔던 문제
#### 원인
WebRTC session과의 연결을 끊지 않은 상황에서 다른 토큰을 발급 받아 들어간 것이 원인
#### 해결방법
session.forceDisconnect() 메소드를 사용하여 session과의 연결을 끊어주는 방식을 적용시켜서 해결했다.